(function(){"use strict";var t={4913:function(t,e,n){var r=n(9242),o=n(3396);const a={class:"wrapper"};function i(t,e,n,r,i,c){const s=(0,o.up)("Header"),l=(0,o.up)("Main");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(s),(0,o.Wm)(l)])}var c=n.p+"img/logo.f2ddc264.svg",s=n.p+"img/drop.ee4f4542.svg";const l={class:"header"},u={class:"header__nav"},d={class:"container"},g=(0,o._)("a",{href:"",class:"header__nav-logo"},[(0,o._)("img",{src:c,alt:""}),(0,o._)("span",null,"vue weather")],-1),_={class:"header__search"};function p(t,e,n,a,i,c){return(0,o.wg)(),(0,o.iD)("header",l,[(0,o._)("nav",u,[(0,o._)("div",d,[g,(0,o._)("div",_,[(0,o._)("img",{onClick:e[0]||(e[0]=(...t)=>c.darkMode&&c.darkMode(...t)),src:s,alt:""}),(0,o.wy)((0,o._)("input",{type:"text",class:"header__search-input",placeholder:"Выбрать город","onUpdate:modelValue":e[1]||(e[1]=t=>i.city=t),onKeydown:e[2]||(e[2]=(0,r.D2)((e=>t.getWeather(i.city)),["enter"]))},null,544),[[r.nr,i.city]])])])])])}var h=n(65),m={data(){return{city:"",location:null}},methods:{...(0,h.nv)(["getWeather"]),getLoc(){navigator.geolocation.getCurrentPosition((t=>{this.location={lat:t.coords.latitude,lon:t.coords.longitude}}))},darkMode(){let t=document.body.style.getPropertyValue("--bg");"white"==t?(document.body.style.setProperty("--bg","rgb(184, 1, 1)"),document.body.style.setProperty("--text","white")):(document.body.style.setProperty("--bg","white"),document.body.style.setProperty("--text","rgb(184, 1, 1)"))}},mounted(){setTimeout((()=>{this.getWeather("tashkent")}),1500),this.getLoc()},created(){document.body.style.setProperty("--bg","white"),document.body.style.setProperty("--text","rgb(184, 1, 1)")}},f=n(89);const v=(0,f.Z)(m,[["render",p]]);var y=v;const w={class:"main"};function b(t,e,n,r,a,i){const c=(0,o.up)("MainContent");return(0,o.wg)(),(0,o.iD)("main",w,[(0,o.Wm)(c)])}var k=n(7139),M=n.p+"img/termo.383f19b6.svg",P=n.p+"img/kaplya.4a66782a.svg",O=n.p+"img/namaz.8e37a70d.svg",x=n.p+"img/wind.2909acaa.svg",z=n.p+"img/obloka.eb80c6ef.png";const W={key:0,class:"content"},j={class:"container"},T={class:"content__left"},Z={class:"content__left-temp"},D=(0,o._)("p",{class:"content__left-day"},"Сегодня",-1),S={class:"content__left-time"},C={class:"content__left-city"},U=["src"],$={class:"content__right"},K={class:"content__right-item"},L=(0,o._)("div",{class:"content__right-item-img"},[(0,o._)("img",{src:M,alt:""})],-1),H={class:"content__right-item-descr"},I={class:"content__right-item"},V=(0,o._)("div",{class:"content__right-item-img"},[(0,o._)("img",{src:P,alt:""})],-1),q={class:"content__right-item-descr"},E={class:"content__right-item"},F=(0,o._)("div",{class:"content__right-item-img"},[(0,o._)("img",{src:O,alt:""})],-1),R={class:"content__right-item-descr"},A={class:"content__right-item"},B=(0,o._)("div",{class:"content__right-item-img"},[(0,o._)("img",{src:x,alt:""})],-1),G={class:"content__right-item-descr"},J=(0,o._)("img",{class:"content__right-item-bg",src:z,alt:""},null,-1),N={key:1,class:"weather-loader"};function Q(t,e,n,r,a,i){return t.weather?((0,o.wg)(),(0,o.iD)("section",W,[(0,o._)("div",j,[(0,o._)("div",T,[(0,o._)("p",Z,(0,k.zw)(Math.round(t.weather.current.temp))+"°",1),D,(0,o._)("p",S,(0,k.zw)(i.getTime),1),(0,o._)("p",C,(0,k.zw)(t.weather.name),1),(0,o._)("img",{class:"content__left-img",src:i.getIcon,alt:""},null,8,U)]),(0,o._)("div",$,[(0,o._)("div",K,[L,(0,o._)("p",H,[(0,o.Uk)("Температура "),(0,o._)("span",null,(0,k.zw)(Math.round(t.weather.current.temp))+"° - ощущается как "+(0,k.zw)(Math.round(t.weather.current.feels_like))+"°",1)])]),(0,o._)("div",I,[V,(0,o._)("p",q,[(0,o.Uk)("Давление "),(0,o._)("span",null,(0,k.zw)(i.getPress)+" мм ртутного столба - нормальное",1)])]),(0,o._)("div",E,[F,(0,o._)("p",R,[(0,o.Uk)("Осадки "),(0,o._)("span",null,"Вероятность Осадков "+(0,k.zw)(t.weather.current.humidity)+"%",1)])]),(0,o._)("div",A,[B,(0,o._)("p",G,[(0,o.Uk)("Ветер "),(0,o._)("span",null,(0,k.zw)(Math.round(t.weather.current.wind_speed))+" м/с юго-запад - легкий ветер",1)])]),J])])])):((0,o.wg)(),(0,o.iD)("div",N))}var X={computed:{...(0,h.rn)(["weather"]),getTime(){return(new Date).toLocaleString("ru-RU",{timeZone:this.weather.current.timeZone,timeStyle:"short"})},getIcon(){return` https://openweathermap.org/img/wn/${this.weather.current.weather[0].icon}@2x.png`},getPress(){let t=.750062*this.weather.current.pressure;return Math.round(t)}}};const Y=(0,f.Z)(X,[["render",Q]]);var tt=Y,et={components:{MainContent:tt}};const nt=(0,f.Z)(et,[["render",b]]);var rt=nt,ot={components:{Header:y,Main:rt}};const at=(0,f.Z)(ot,[["render",i]]);var it=at,ct=n(1076);const st=(0,h.MT)({state:{apiKey:"adc985dd90316abb965b500fd1ab03b1",weather:null},mutations:{getWeather(t,e){t.weather=e}},actions:{async getWeather({commit:t,state:e},n){try{const r=await ct.Z.get(`https://api.openweathermap.org/geo/1.0/direct?q=${n}&appid=${e.apiKey}`),{lat:o,lon:a,name:i}=r.data[0],c=await ct.Z.get(`https://api.openweathermap.org/data/2.8/onecall?lat=${o}&lon=${a}&exclude=minutely,hourly,alerts&appid=${e.apiKey}&units=metric`),s={...c.data,name:i};t("getWeather",s)}catch(r){console.log("Произошла ошибка при получении погоды")}}},getters:{}});var lt=st;const ut=(0,r.ri)(it);ut.use(lt),ut.mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],a=t[u][2];for(var c=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[s])}))?r.splice(s--,1):(c=!1,a<i&&(i=a));if(c){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,i=r[0],c=r[1],s=r[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var u=s(n)}for(e&&e(r);l<i.length;l++)a=i[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},r=self["webpackChunktodo"]=self["webpackChunktodo"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4913)}));r=n.O(r)})();
//# sourceMappingURL=app.c16cf21e.js.map